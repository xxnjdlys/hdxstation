(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"379":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{"value":!0});var l,n=function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}(),o=function get(e,t,a){null===e&&(e=Function.prototype);var l=Object.getOwnPropertyDescriptor(e,t);if(void 0===l){var n=Object.getPrototypeOf(e);return null===n?void 0:get(n,t,a)}if("value"in l)return l.value;var o=l.get;return void 0!==o?o.call(a):void 0},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r=_interopRequireDefault(a(0)),c=a(5),d=_interopRequireDefault(c),s=a(113),u=a(114),m=a(416),f=a(73),p=a(118);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}a(529),t.default=(0,u.connect)(function(e){var t=e.detail,a=e.loading;return i({},t,a)})(l=function(e){function Detail(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Detail);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Detail.__proto__||Object.getPrototypeOf(Detail)).apply(this,arguments));return e.componentDidMount=function(){var t=e.$router.params.id,a=t,l="";switch(t){case"0":l="国际学校",a=p.ACTION_DETAIL_SCHOOL;break;case"1":l="双语学校",a=p.ACTION_DETAIL_LANG;break;case"2":l="公立国际部",a=p.ACTION_DETAIL_INTEL}e.setState({"currentTitle":l}),f.Lg.e("request type is : "+a+"  id is : "+t),e.showLoadingIfNeeded(),e.props.dispatch({"type":a})},e.config={"navigationBarTitleText":"Detail"},e.showLoadingIfNeeded=function(){e.props.recommend.length<=0&&((0,c.hideTabBar)(),(0,c.showLoading)({"title":"loading"}).then(function(e){f.Lg.d(e)}))},e.handleClick=function(e){f.Lg.e("on navbar item click... "+e)},e.handleHeaderItemClick=function(){f.Lg.e("on category item click... "),d.default.navigateTo({"url":"/pages/classify/index"})},e.handleRecommend=function(){f.Lg.e("on recommend item click... "),d.default.navigateTo({"url":"/pages/recommend/index"})},e.state={"currentTitle":""},e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Detail,d.default.Component),n(Detail,[{"key":"render","value":function render(){var e=this,t=this.props,a=t.banner,l=t.lesson,n=t.recommend,o=this.state.currentTitle,i=void 0===a||null==a||0===Object.entries(a).length,u=void 0===n||null==n||0===Object.entries(n).length,p=void 0===l||null==l||0===Object.entries(l).length,w=[{"icon":"back","color":"black","text":" "+(i?o:" "+a.title)}],h=[{"icon":"share","color":"black","text":" "+o},{"icon":"edit","color":"white","text":" "+o},{"icon":"likefill","color":"red","text":" "+o},{"icon":"edit","color":"white","text":" "+o},{"icon":"more","color":"black","text":" "+o}];return r.default.createElement(s.View,{"className":"detail-page"},i?r.default.createElement(s.View,null):r.default.createElement(s.View,{"className":"detail-page"},r.default.createElement(m.ClShopBar,{"fix":!0,"border":!0,"buttons":[{"bgColor":"yellow","text":"预约试听"}],"tabs":[{"badge":!1,"icon":"phone","title":"电话"},{"badge":!1,"icon":"message","title":"咨询"}]}),r.default.createElement(s.View,{"className":"detail-nav-bar"},r.default.createElement(m.ClNavBar,{"leftIcon":w,"rightIcon":h,"bgColor":"white","onClickLeftIcon":function onClickLeftIcon(e){f.Lg.e("index : "+e),d.default.navigateBack()},"onClickRightIcon":function onClickRightIcon(e){switch(f.Lg.e("index : "+e),e){case 0:(0,c.showToast)({"title":"点击分享","icon":"none"});break;case 2:(0,c.showToast)({"title":"点击收藏|取消收藏","icon":"none"});break;case 4:(0,c.showToast)({"title":"点击更多","icon":"none"})}}})),r.default.createElement(s.View,{"className":"detail-holder-2px"}),r.default.createElement(s.View,{"className":"detail-header-container"},r.default.createElement(s.Text,{"className":"detail-header-title"},a.title),r.default.createElement(s.View,{"className":"detail-header-desc-container"},r.default.createElement(s.Text,{"className":"detail-header-desc-stars"},"评分: ",a.star),r.default.createElement(s.Text,{"className":"detail-header-desc"},a.desc)),r.default.createElement(s.View,null,a.list.length>0?r.default.createElement(s.View,{"className":"detail-scrolling-wrapper-flex"},a.list.map(function(t,a){return r.default.createElement(s.View,{"className":"detail-card","key":a,"onClick":e.handleHeaderItemClick.bind(e,t)},r.default.createElement(s.Image,{"className":"detail-card-image","mode":"aspectFill","src":t.cover}))})):r.default.createElement(s.View,null))),r.default.createElement(s.View,{"className":"detail-header-location-container"},r.default.createElement(s.View,{"className":"at-row at-row--no-wrap"},r.default.createElement(s.View,{"className":"at-col-1"},r.default.createElement(m.ClIcon,{"color":"yellow","size":"xsmall","iconName":"location"})),r.default.createElement(s.View,{"className":"at-col-10"},r.default.createElement(s.View,{"className":"at-row at-row--wrap"},r.default.createElement(s.Text,{"className":"location-title"},a.address))),r.default.createElement(s.View,{"className":"at-col-1"},r.default.createElement(s.View,{"className":"at-col__align--top"},r.default.createElement(m.ClIcon,{"color":"yellow","size":"xsmall","iconName":"phone"}))))),r.default.createElement(s.View,{"className":"detail-holder-12px"}),r.default.createElement(s.View,{"className":"at-row at-row--wrap"},r.default.createElement(s.View,null,u?r.default.createElement(s.View,null):r.default.createElement(s.Text,{"className":"detail-recmd-header"},n.title)),u?r.default.createElement(s.View,null):n.list.map(function(t,a){return r.default.createElement(s.View,{"key":a,"className":"at-col-12 at-col--auto detail-margin-recmd","onClick":e.handleRecommend.bind(e,t)},r.default.createElement(s.View,{"className":"at-row"},r.default.createElement(s.View,{"className":"at-col-4"},r.default.createElement(s.Image,{"className":"detail-recmd-img","mode":"widthFix","src":t.cover})),r.default.createElement(s.View,{"className":"at-col-8"},r.default.createElement(s.View,{"className":"at-row detail-info-abs-top"},r.default.createElement(s.Text,{"className":"home-recmd-title"},"步步高点读机哪里不会点哪里.",t.name)),r.default.createElement(s.View,{"className":"at-row at-row__align--end detail-info-abs-bottom"},r.default.createElement(s.Text,{"className":"at-col at-col-9 detail-recmd-desc"},t.name),r.default.createElement(s.Image,{"className":"at-col at-col-2 detail-recmd-btn","src":t.corner})))))})),r.default.createElement(s.View,null,p?r.default.createElement(s.View,null):r.default.createElement(s.View,null,r.default.createElement(s.View,{"className":"detail-holder-12px"}),r.default.createElement(s.Text,{"className":"detail-recmd-header"},l.title))),r.default.createElement(s.View,{"className":"detail-lesson-margin-def"},r.default.createElement(s.View,{"className":"at-row at-row--wrap"},p?r.default.createElement(s.View,null):l.list.map(function(t,a){return r.default.createElement(s.View,{"className":"detail-at-col-row","key":a,"onClick":e.handleClick.bind(e,t)},r.default.createElement(s.View,{"key":a,"className":"detail-margin-4px"},r.default.createElement(s.Image,{"className":"detail-at-col-row__img-row","mode":"widthFix","src":t.cover})),r.default.createElement(s.Text,{"className":"detail-item-text-list"},t.name))}))),r.default.createElement(s.View,{"className":"detail-bottom-holder"})))}},{"key":"componentDidMount","value":function componentDidMount(){o(Detail.prototype.__proto__||Object.getPrototypeOf(Detail.prototype),"componentDidMount",this)&&o(Detail.prototype.__proto__||Object.getPrototypeOf(Detail.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){o(Detail.prototype.__proto__||Object.getPrototypeOf(Detail.prototype),"componentDidShow",this)&&o(Detail.prototype.__proto__||Object.getPrototypeOf(Detail.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){o(Detail.prototype.__proto__||Object.getPrototypeOf(Detail.prototype),"componentDidHide",this)&&o(Detail.prototype.__proto__||Object.getPrototypeOf(Detail.prototype),"componentDidHide",this).call(this)}}]),Detail}())||l},"529":function(e,t,a){}}]);